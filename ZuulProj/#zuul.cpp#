#include <iostream>
#include <string.h>
#include <cstring>
#include "room.cpp"
#include <map>

using namespace std;
const int SIZE = 3;

void printArrayDescriptions(room**, int);
void printRoomInfo(room*, room**);

int main()
{
  room* list[SIZE];
  defRooms(list);
  room* currentRoom = list[0];
  cout << "WELCOME MESSAGE" << endl;
  while (true) {
    printRoomInfo(currentRoom, list);
    cout << "enter 'NORTH' to go north, 'SOUTH' to go south, 'WEST' to go west, or 'EAST' to go east (exits permitting). You may also e\
nter 'TAKE' to collect any items in the room, 'INVENTORY' to check your inventory, 'DROP *item name*' to drop an item." << endl;
    char input[] = "'\n'";
    cin >> input;
    if((strcmp(input, "NORTH") == 0) || (strcmp(input, "SOUTH") == 0)){
      int norLoc = currentRoom->loc3;
      currentRoom = list[norLoc];
    }
    else if(strcmp(input, "EAST") == 0){
      int eastLoc = currentRoom->loc2;
      currentRoom = list[eastLoc];
    }
    else if (strcmp(input, "WEST") == 0){
      int wesLoc = currentRoom->loc1;
      currentRoom = list[wesLoc];
    }
    else{
      cout << "invalid command" << endl;
    }
  }
}

void printArrayDescriptions(room** newlist, int size) {
  for(int a = 0; a < size; a++){
    cout << (*newlist[a]).getName() << "; " << (*newlist[a]).getDescription() << " There are exits to the: " << (*newlist[a]).exit1<< " and " << (*newlist[a]).exit2 << " and " << (*newlist[a]).exit3 << " The items in the room are : " << endl;
  }
}

void printRoomInfo(room* cur, room** newlist){
  char* curName = (cur)->getName();
  char* curDesc = (cur)->getDescription();
  char* curExit1 = (cur)->exit1;
  char* curExit2 = (cur)->exit2;
  char* curExit3 = (cur)->exit3;
  int westLoc = (cur)->loc1;
  cout << "You are in the " << curName << "." << endl;
  cout << curDesc << endl;
  cout << "You may exit to the " << curExit1 << ", the " << curExit2 << ", or the " << curExit3 << endl;
  cout << "The items in the room are : " << endl;
}

